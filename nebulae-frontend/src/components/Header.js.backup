// components/Header.js
import React from 'react';
import './Header.css';

function Header({ 
  walletAddress, 
  walletName, 
  connectWallet, 
  disconnectWallet,
  blockchainStatus 
}) {
  
  /**
   * Formatear direcciÃ³n para mostrar
   */
  const formatAddress = (address) => {
    if (!address) return '';
    return `${address.slice(0, 6)}...${address.slice(-4)}`;
  };

  return (
    <header className="header">
      <div className="header-content">
        {/* Logo y tÃ­tulo */}
        <div className="header-left">
          <h1 className="header-title">
            <span className="logo-icon">ðŸŒ¸</span>
            BloomWatch
          </h1>
          <p className="header-subtitle">NFTs EcolÃ³gicos en Polkado</p>
        </div>

        {/* Status de blockchain */}
        <div className="header-center">
          {blockchainStatus && (
            <div className={`blockchain-badge ${blockchainStatus.connected ? 'connected' : 'disconnected'}`}>
              <span className="status-dot"></span>
              <span className="status-text">
                {blockchainStatus.connected ? (
                  <>
                    <span className="network-name">{blockchainStatus.chain || 'Polkadot'}</span>
                    {blockchainStatus.blockNumber && (
                      <span className="block-number">
                        #{blockchainStatus.blockNumber}
                      </span>
                    )}
                  </>
                ) : (
                  'Desconectado'
                )}
              </span>
            </div>
          )}
        </div>

        {/* Wallet connect button */}
        <div className="header-right">
          {!walletAddress ? (
            <button onClick={connectWallet} className="connect-wallet-btn">
              <span className="btn-icon">ðŸ”—</span>
              Connect Wallet
            </button>
          ) : (
            <div className="wallet-info">
              <div className="wallet-details">
                <span className="wallet-name">{walletName}</span>
                <span className="wallet-address">{formatAddress(walletAddress)}</span>
              </div>
              <button onClick={disconnectWallet} className="disconnect-btn" title="Desconectar">
                âœ•
              </button>
            </div>
          )}
        </div>
      </div>
    </header>
  );
}

export default Header;